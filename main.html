<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Main Page Banding</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'JetBrains Mono',monospace;
  background:
    radial-gradient(circle at 25% 25%, #26003f, transparent 45%),
    radial-gradient(circle at 75% 75%, #003344, transparent 50%),
    linear-gradient(120deg,#02010a,#000014,#02010a);
  color:#00ffff;
  overflow-x:hidden;
}

/* Judul kiri atas */
.title-top{
  position:fixed;
  top:10px;
  left:16px;
  font-family:'Orbitron',sans-serif;
  font-weight:700;
  text-shadow:0 0 8px #00ffff,0 0 16px #00ffff;
  animation:neonFlicker 2.5s infinite;
  z-index:10;
}
@keyframes neonFlicker{
  0%,100%{opacity:1;color:#00ffff}
  25%{opacity:.6;color:#ff00ff}
  50%{opacity:1;color:#00ff00}
  75%{opacity:.7;color:#ff0055}
}

/* Wrapper video */
.wrapper{
  display:flex;
  justify-content:center;
  margin-top:60px;
  position:relative;
}

/* Video Panel */
.video-shell{
  position:relative;
  width:min(90vw,360px);
  aspect-ratio:16/9;
  border-radius:26px;
}

.video-box{
  width:100%;
  height:100%;
  border-radius:26px;
  overflow:hidden;
  background:#050510;
  box-shadow:0 18px 45px rgba(0,0,0,.85), inset 0 0 30px rgba(0,255,255,.18);
}

video{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* Neon border video */
.neon-border{
  position:absolute;
  inset:0;
  border-radius:26px;
  pointer-events:none;
  border:2px solid #00ffff;
  box-shadow:0 0 10px #00ffff,0 0 20px #00ffff,0 0 35px #00ffff;
  animation:neonPulse 2.8s ease-in-out infinite;
}
@keyframes neonPulse{
  0%,100%{box-shadow:0 0 6px #00ffff,0 0 14px #00ffff;opacity:.8}
  50%{box-shadow:0 0 14px #ff00ff,0 0 30px #ff00ff,0 0 45px #ff00ff;opacity:1}
}

/* Music Button */
.music-btn{
  position:fixed;
  right:18px;
  bottom:18px;
  width:54px;
  height:54px;
  border-radius:50%;
  background:#050510;
  border:2px solid #00ffff;
  color:#00ffff;
  font-size:20px;
  cursor:pointer;
  box-shadow:0 0 18px rgba(0,255,255,.6), inset 0 0 12px rgba(0,255,255,.4);
  animation:pulseBtn 2s infinite;
}
@keyframes pulseBtn{
  0%,100%{box-shadow:0 0 18px rgba(0,255,255,.6)}
  50%{box-shadow:0 0 30px rgba(0,255,255,1)}
}

/* Text typing bawah video */
.typing-text{
  text-align:center;
  margin-top:12px;
  font-family:'Orbitron',sans-serif;
  font-size:14px;
  min-height:20px;
  color:#00ffff;
}

/* Form RPG neon kotak bawah video */
.form-container{
  max-width:360px;
  margin:20px auto;
  background:#02010a;
  border:2px solid #00ffff;
  border-radius:14px;
  padding:16px;
  box-shadow:0 0 20px #00ffff, inset 0 0 12px #00ffff;
}

.rpg-box{
  border:2px solid #00ffff;
  border-radius:8px;
  padding:6px 10px;
  margin:10px 0;
  color:#00ffff;
  background:#02010a;
  box-shadow:0 0 10px #00ffff, inset 0 0 6px #00ffff;
  font-family:'JetBrains Mono',monospace;
}

.rpg-select{
  width:100%;
  padding:6px;
  border-radius:6px;
  border:2px solid #00ffff;
  background:#02010a;
  color:#00ffff;
  font-family:'JetBrains Mono',monospace;
  box-shadow:0 0 10px #00ffff, inset 0 0 6px #00ffff;
  margin-bottom:10px;
}

.send-btn{
  background:#02010a;
  border:2px solid #00ffff;
  border-radius:6px;
  padding:8px 12px;
  color:#00ffff;
  font-family:'Orbitron',sans-serif;
  cursor:pointer;
  text-shadow:0 0 6px #00ffff,0 0 12px #00ffff;
  animation:btnNeon 2s infinite;
}

.error-msg{
  font-size:12px;
  color:#ff3333;
  margin-top:6px;
  text-align:center;
}
</style>
</head>
<body>

<div class="title-top">#_ Unband-Wa</div>

<div class="wrapper">
  <div class="video-shell">
    <div class="video-box">
      <video id="vid" autoplay muted loop playsinline preload="auto">
        <source src="vid.mp4" type="video/mp4">
      </video>
    </div>
    <div class="neon-border"></div>
  </div>
</div>

<button class="music-btn" onclick="toggleMusic()">ðŸŽµ</button>

<div class="typing-text" id="typingText"></div>

<div class="form-container">
  <div class="rpg-box">&gt;_ No - Whatsapp</div>
  <input class="rpg-box" type="text" id="waNumber" placeholder="+62****">

  <div class="rpg-box">&gt;_ Opsi - Band</div>
  <select class="rpg-select" id="bandOption" onchange="updateSubOption()">
    <option value="">Pilih opsi</option>
    <option value="spam-1">Opsi - Spam 1</option>
    <option value="spam-2">Opsi - Spam 2</option>
    <option value="spam-3">Opsi - Spam 3</option>
  </select>

  <button class="send-btn" onclick="sendBanding()">Send - Banding</button>
  <div class="error-msg" id="errorMsg"></div>
</div>

<audio id="bgm" loop preload="auto">
  <source src="musik.mp3" type="audio/mpeg">
</audio>

<script>
/* MUSIC */
const bgm=document.getElementById('bgm'); let musicOn=false;
document.addEventListener('click',()=>{if(!musicOn){bgm.play().catch(()=>{});musicOn=true;}},{once:true});
function toggleMusic(){if(musicOn){bgm.pause();musicOn=false;}else{bgm.play().catch(()=>{});musicOn=true;}}

/* Typing Text Effect */
const texts=["unband-Wa","mt 2026","help wa"];
let index=0, charIndex=0;
const typingText=document.getElementById('typingText');
function type(){if(charIndex<texts[index].length){typingText.textContent+=texts[index][charIndex];charIndex++;setTimeout(type,150);}else{setTimeout(erase,1000);}}
function erase(){if(charIndex>0){typingText.textContent=texts[index].substring(0,charIndex-1);charIndex--;setTimeout(erase,100);}else{index=(index+1)%texts.length;setTimeout(type,500);}}
type();

/* Sub Option placeholder */
function updateSubOption(){}

/* Send Banding */
function sendBanding(){
  const wa=document.getElementById('waNumber').value.trim();
  const band=document.getElementById('bandOption').value;
  const err=document.getElementById('errorMsg');
  if(!wa){err.textContent="Isi nomor dulu deck"; return;}
  if(!band){err.textContent="Pilih opsi dulu oyy"; return;}
  err.textContent="";

  fetch('opsispam.html')
    .then(res=>res.text())
    .then(data=>{
      // Eksekusi script di opsispam.html untuk mendapatkan spamTemplates
      const scriptContent=data.match(/const spamTemplates\s*=\s*(\{[\s\S]*?\});/)[1];
      const templates=eval('('+scriptContent+')');
      const key=band.replace('-','-'); // spam-1, spam-2, spam-3
      const template=templates['opsi-'+band];
      if(!template){alert('Template tidak ditemukan'); return;}
      const email=template.email;
      const subject=template.subject;
      const body=template.body.replace('{{number}}',wa);
      window.location.href=`mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    });
}
</script>

</body>
</html>